"use strict";(self.webpackChunkcommerce_frontend_core=self.webpackChunkcommerce_frontend_core||[]).push([[7296],{99985:function(e,a,n){n.r(a),n.d(a,{_frontmatter:function(){return s},default:function(){return u}});var t,o=n(87462),l=n(63366),m=(n(15007),n(64983)),r=n(91515),i=["components"],s={},c=(t="InlineAlert",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,m.mdx)("div",e)}),d={_frontmatter:s},p=r.Z;function u(e){var a=e.components,n=(0,l.Z)(e,i);return(0,m.mdx)(p,(0,o.Z)({},d,n,{components:a,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"common-customization-tasks"},"Common customization tasks"),(0,m.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"To ensure stability and secure your customizations from being deleted during upgrade, do not change out-of-the-box ",(0,m.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/module"},"module")," and ",(0,m.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/theme"},"theme")," layouts. To customize your layout, create extending and overriding layout files in your custom theme."),(0,m.mdx)("h2",{id:"set-the-page-layout"},"Set the page layout"),(0,m.mdx)("p",null,"The type of page layout to be used for a certain page is defined in the page configuration file, in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"layout")," attribute of the root ",(0,m.mdx)("inlineCode",{parentName:"p"},"<page>")," node."),(0,m.mdx)("p",null,'Example:\nChange the layout of Advanced Search page from default "1-column" to "2-column with left bar". To do this, extend ',(0,m.mdx)("inlineCode",{parentName:"p"},"catalogsearch_advanced_index.xml")," in your theme by adding the following layout:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page layout="2columns-left" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">\n...\n</page>\n')),(0,m.mdx)("h2",{id:"include-static-resources-javascript-css-fonts"},"Include static resources (JavaScript, CSS, fonts)"),(0,m.mdx)("p",null,"JavaScript, CSS, and other static assets are added in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<head>")," section of a ",(0,m.mdx)("a",{parentName:"p",href:"types.md#page-configuration"},"page configuration")," file. The default look of a store page ",(0,m.mdx)("inlineCode",{parentName:"p"},"<head>")," is defined by ",(0,m.mdx)("inlineCode",{parentName:"p"},"app/code/Magento/Theme/view/frontend/layout/default_head_blocks.xml"),". The recommended way to add CSS and JavaScript is to extend this file in your custom theme, and add the assets there.\nThe following file is a sample of a file you must add:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">\n  <head>\n    \x3c!-- Add local styles resources --\x3e\n    <css src="css/my-styles.css" />\n    <css src="<Namespace>_<Module>::css/custom-styles.css" />\n\n    \x3c!-- The following two ways to add local JavaScript files are equal --\x3e\n    <script src="Magento_Catalog::js/sample1.js" />\n    <script src="Magento_Catalog/js/sample1.js" />\n\n    \x3c!-- The application supports async or defer attribute in script tag --\x3e\n    <script async="" src="Magento_Catalog::js/sample1.js" />\n    <script defer="" src="Magento_Catalog::js/sample1.js" />\n\n    <link src="js/sample.js" />\n    <link src="sample.js" />\n\n    \x3c!-- Add external resources --\x3e\n    <css src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css" src_type="url" />\n    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js" src_type="url" />\n    <link rel="stylesheet" type="text/css" src="http://fonts.googleapis.com/css?family=Montserrat" src_type="url" />\n  </head>\n</page>\n')),(0,m.mdx)("p",null,"When adding external resources, specifying the ",(0,m.mdx)("inlineCode",{parentName:"p"},'src_type="url"')," argument value is a must."),(0,m.mdx)("p",null,"You can use either the ",(0,m.mdx)("inlineCode",{parentName:"p"},'<link src="js/sample.js"/>')," or the ",(0,m.mdx)("inlineCode",{parentName:"p"},'<script src="js/sample.js"/>')," instruction to add a locally stored JavaScript file to your theme. This way, the path to the javascript file will be ",(0,m.mdx)("inlineCode",{parentName:"p"},"<theme_dir>/web/js/sample.js"),". If we use ",(0,m.mdx)("inlineCode",{parentName:"p"},'<link src="sample.js"/>'),", The application will get the javascript file at ",(0,m.mdx)("inlineCode",{parentName:"p"},"<theme_dir>/web/sample.js")),(0,m.mdx)("p",null,"The path to assets is specified relatively to one the following locations:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"CSS and LESS files are stored in the ",(0,m.mdx)("inlineCode",{parentName:"li"},"<theme_dir>/web/css/")," directory."),(0,m.mdx)("li",{parentName:"ul"},"Font-related files are stored in the ",(0,m.mdx)("inlineCode",{parentName:"li"},"<theme_dir>/<Namespace>_<Module>/web/fonts/")," directory."),(0,m.mdx)("li",{parentName:"ul"},"Static assets, such as images, are stored in the ",(0,m.mdx)("inlineCode",{parentName:"li"},"<theme_dir>/<Namespace>_<Module>/web/images/")," directory."),(0,m.mdx)("li",{parentName:"ul"},"JS files are stored in the ",(0,m.mdx)("inlineCode",{parentName:"li"},"<theme_dir>/<Namespace>_<Module>/web/js/")," directory.")),(0,m.mdx)("h3",{id:"adding-conditional-comments"},"Adding conditional comments"),(0,m.mdx)("p",null,(0,m.mdx)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/Conditional_comment"},"Conditional comments")," are meant to give special instructions for Internet Explorer.\nIn the terms of adding assets, you can add CSS files to be included for a specific version of Internet Explorer.\nA sample follows:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">\n  <head>\n    <css src="css/ie-9.css" ie_condition="IE 9" />\n  </head>\n</page>\n')),(0,m.mdx)("p",null,"This adds an IE conditional comment in the generated HTML, like in the following example:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-html"},'\x3c!--[if IE 9]>\n<link rel="stylesheet" type="text/css" media="all" href="<your_store_web_address>/pub/static/frontend/ExampleCorp/orange/en_US/css/ie-9.css" />\n<![endif]--\x3e\n')),(0,m.mdx)("p",null,"In this example, ",(0,m.mdx)("inlineCode",{parentName:"p"},"orange")," is a custom theme created by the ExampleCorp vendor."),(0,m.mdx)("h2",{id:"remove-static-resources-javascript-css-fonts"},"Remove static resources (JavaScript, CSS, fonts)"),(0,m.mdx)("p",null,"To remove the static resources linked in a page ",(0,m.mdx)("inlineCode",{parentName:"p"},"<head>"),", make a change similar to the following in a theme extending ",(0,m.mdx)("inlineCode",{parentName:"p"},"app/design/frontend/<Vendor>/<theme>/Magento_Theme/layout/default_head_blocks.xml"),":"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">\n   <head>\n    \x3c!-- Remove local styles resources --\x3e\n    <remove src="css/styles-m.css" />\n    <remove src="<Namespace>_<ModuleName>::css/styles.css" />\n\n    \x3c!-- Remove js resources --\x3e\n    <remove src="my-js.js" />\n    <remove src="Magento_Catalog::js/sample1.js" />\n\n    \x3c!-- Remove external resources --\x3e\n    <remove src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css" />\n    <remove src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js" />\n    <remove src="http://fonts.googleapis.com/css?family=Montserrat" />\n   </head>\n</page>\n')),(0,m.mdx)("p",null,"Note, that if a static asset is added with a module path (for example ",(0,m.mdx)("inlineCode",{parentName:"p"},"Magento_Catalog::js/sample.js"),") in the initial layout, you need to specify the module path as well when removing the asset."),(0,m.mdx)(c,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"If js files are called via the RequireJS approach: by declaring in the require/define sections, we cannot remove it from the layout."),(0,m.mdx)("h2",{id:"add-meta-tags-to-the-head-block"},"Add meta tags to the head block"),(0,m.mdx)("p",null,"To add ",(0,m.mdx)("inlineCode",{parentName:"p"},"<meta>")," tags to the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<head>")," element of your layout, create a theme-extending file similar to: ",(0,m.mdx)("inlineCode",{parentName:"p"},"app/design/frontend/<Vendor>/<theme>/Magento_Theme/layout/default_head_blocks.xml"),"."),(0,m.mdx)("p",null,"By default, the class that renders the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<meta>")," tags is ",(0,m.mdx)("inlineCode",{parentName:"p"},"\\Magento\\Framework\\View\\Page\\Config\\Renderer"),". This class can render five meta types and a catch-all (the default).]"),(0,m.mdx)("ol",null,(0,m.mdx)("li",{parentName:"ol"},"og:"),(0,m.mdx)("li",{parentName:"ol"},"charset"),(0,m.mdx)("li",{parentName:"ol"},"content_type"),(0,m.mdx)("li",{parentName:"ol"},"x_ua_compatible"),(0,m.mdx)("li",{parentName:"ol"},"media_type"),(0,m.mdx)("li",{parentName:"ol"},'"default" case')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Examples:"),"\nUse the following examples to include in your own layout themes."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">\n   <head>\n    \x3c!-- This will create a tag like \'<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\' --\x3e\n    <meta name="x_ua_compatible" content="IE=edge,chrome=1"/>\n    \x3c!-- This will create a tag like \'<meta property="og:type" content="article"/>\'\' --\x3e\n    <meta name="og:type" content="article"/>\n    \x3c!-- This will create a tag like \'<meta charset="UTF-8">\' --\x3e\n    <meta name="charset" content="UTF-8"/>\n    \x3c!-- This will create a tag like \'<meta http-equiv="Content-Type" content="content-type-value"/>\' --\x3e\n    <meta name="content_type" content="content-type-value"/>\n    \x3c!-- This tag will not render (see \\Magento\\Framework\\View\\Page\\Config\\Renderer for details) --\x3e\n    <meta name="media_type" content="any-value"/>\n    \x3c!-- This will create a tag like \'<meta name="my_custom_type" content="my_custom_value"/>\' --\x3e\n    <meta name="my_custom_type" content="my_custom_value"/>\n   </head>\n</page>\n')),(0,m.mdx)("h2",{id:"create-a-container"},"Create a container"),(0,m.mdx)("p",null,"Use the following sample to create (declare) a container:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<container name="some.container" as="someContainer" label="Some Container" htmlTag="div" htmlClass="some-container" />\n')),(0,m.mdx)("h2",{id:"reference-a-container"},"Reference a container"),(0,m.mdx)("p",null,"To update a container use the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<referenceContainer>")," instruction."),(0,m.mdx)("p",null,"Example: add links to the page header panel."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceContainer name="header.panel">\n  <block class="Magento\\Framework\\View\\Element\\Html\\Links" name="header.links">\n    <arguments>\n      <argument name="css_class" xsi:type="string">header links</argument>\n    </arguments>\n  </block>\n</referenceContainer>\n')),(0,m.mdx)("p",null,"To wrap div or block using container see example:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<container name="some.container" as="someContainer" label="Some Container" htmlTag="div" htmlClass="some-container">\n  <block class="Magento\\Framework\\View\\Element\\Html\\Links" name="header.links">\n    <arguments>\n      <argument name="css_class" xsi:type="string">header links</argument>\n    </arguments>\n  </block>\n</container>\n')),(0,m.mdx)("p",null,"To add new classes to the container:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceContainer name="page.wrapper" htmlClass="my-new-page-wrapper-class second-class"/>\n')),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"562px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"15.937499999999998%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/6d60c0e8fe40d2b650fdb2ce230fb653/cb523/container-classes-result.webp 320w","/commerce-frontend-core/static/6d60c0e8fe40d2b650fdb2ce230fb653/8aacc/container-classes-result.webp 562w"],sizes:"(max-width: 562px) 100vw, 562px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/6d60c0e8fe40d2b650fdb2ce230fb653/72799/container-classes-result.png 320w","/commerce-frontend-core/static/6d60c0e8fe40d2b650fdb2ce230fb653/6e88f/container-classes-result.png 562w"],sizes:"(max-width: 562px) 100vw, 562px",type:"image/png"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/6d60c0e8fe40d2b650fdb2ce230fb653/6e88f/container-classes-result.png",alt:"Container Classes",title:"Container Classes",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)(c,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"This method overrides existing classes."),(0,m.mdx)("p",null,"To add a new ID to the container:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceContainer name="page.wrapper" htmlId="MyWrapper"/>\n')),(0,m.mdx)("p",null,"To remove a container from the layout:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceContainer name="product.info.stock.sku" remove="true"/>\n')),(0,m.mdx)("h2",{id:"create-a-block"},"Create a block"),(0,m.mdx)("p",null,"Blocks are created (declared) using the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<block>")," instruction."),(0,m.mdx)("p",null,"Example: add a block with a product ",(0,m.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/sku"},"SKU")," information."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<block class="Magento\\Catalog\\Block\\Product\\View\\Description" name="product.info.sku" template="Magento_Catalog::product/view/attribute.phtml" after="product.info.type">\n  <arguments>\n    <argument name="at_call" xsi:type="string">getSku</argument>\n    <argument name="at_code" xsi:type="string">sku</argument>\n    <argument name="css_class" xsi:type="string">sku</argument>\n  </arguments>\n</block>\n')),(0,m.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"Declare the ",(0,m.mdx)("inlineCode",{parentName:"p"},"template")," attribute with the name of the module it belongs to: ",(0,m.mdx)("inlineCode",{parentName:"p"},'template="<VendorName>_<ModuleName>::path-to-template.phtml"'),". Following this approach avoids failures with template rendering and makes it easier for the developer to find and navigate to the template file."),(0,m.mdx)("h2",{id:"set-body-attributes"},"Set body attributes"),(0,m.mdx)("p",null,"To set attributes for the HTML ",(0,m.mdx)("inlineCode",{parentName:"p"},"body")," tag use the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<attribute>")," instruction."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example:")," Add a new class to the ",(0,m.mdx)("inlineCode",{parentName:"p"},"body")," tag."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'    <body>\n        <attribute name="class" value="my-new-body-class"/>\n    </body>\n')),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1051px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"27.187499999999996%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/7aa8250c21d6cad1a6ca5f82d4289b21/cb523/body-class-result.webp 320w","/commerce-frontend-core/static/7aa8250c21d6cad1a6ca5f82d4289b21/797b9/body-class-result.webp 640w","/commerce-frontend-core/static/7aa8250c21d6cad1a6ca5f82d4289b21/8aa8c/body-class-result.webp 1051w"],sizes:"(max-width: 1051px) 100vw, 1051px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/7aa8250c21d6cad1a6ca5f82d4289b21/72799/body-class-result.png 320w","/commerce-frontend-core/static/7aa8250c21d6cad1a6ca5f82d4289b21/6af66/body-class-result.png 640w","/commerce-frontend-core/static/7aa8250c21d6cad1a6ca5f82d4289b21/58fee/body-class-result.png 1051w"],sizes:"(max-width: 1051px) 100vw, 1051px",type:"image/png"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/7aa8250c21d6cad1a6ca5f82d4289b21/58fee/body-class-result.png",alt:"Block Class",title:"Block Class",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example:")," Add a custom attribute to the ",(0,m.mdx)("inlineCode",{parentName:"p"},"body")," tag."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page>\n    <body>\n        <attribute name="data-role" value="my-body-role"/>\n    </body>\n</page>\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example:")," Add an id to the ",(0,m.mdx)("inlineCode",{parentName:"p"},"body")," tag."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page>\n    <body>\n        <attribute name="id" value="my-new-body-id"/>\n    </body>\n</page>\n')),(0,m.mdx)(c,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"It is not recommended to set the ",(0,m.mdx)("inlineCode",{parentName:"p"},"body")," id in layout files that have a wider impact (",(0,m.mdx)("inlineCode",{parentName:"p"},"e.g. default.xml"),")."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example:")," Add an inline style to the ",(0,m.mdx)("inlineCode",{parentName:"p"},"body")," tag."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page>\n    <body>\n        <attribute name="style" value="opacity:0;"/>\n    </body>\n</page>\n')),(0,m.mdx)("h2",{id:"reference-a-block"},"Reference a block"),(0,m.mdx)("p",null,"To update a block use the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<referenceBlock>")," instruction."),(0,m.mdx)("p",null,"Example: pass the image to the ",(0,m.mdx)("inlineCode",{parentName:"p"},"logo")," block."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceBlock name="logo">\n  <arguments>\n    <argument name="logo_file" xsi:type="string">images/logo.png</argument>\n  </arguments>\n</referenceBlock>\n')),(0,m.mdx)("p",null,"To add a new class to the block:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceBlock name="page.main.title">\n    <arguments>\n        <argument name="css_class" xsi:type="string">my-new-block-class</argument>\n    </arguments>\n</referenceBlock>\n')),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"428px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"26.25%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/47d8c4cb94bd2b7330b52c49c2025d61/cb523/block-class-result.webp 320w","/commerce-frontend-core/static/47d8c4cb94bd2b7330b52c49c2025d61/4ce8e/block-class-result.webp 428w"],sizes:"(max-width: 428px) 100vw, 428px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/47d8c4cb94bd2b7330b52c49c2025d61/72799/block-class-result.png 320w","/commerce-frontend-core/static/47d8c4cb94bd2b7330b52c49c2025d61/47730/block-class-result.png 428w"],sizes:"(max-width: 428px) 100vw, 428px",type:"image/png"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/47d8c4cb94bd2b7330b52c49c2025d61/47730/block-class-result.png",alt:"Block Class",title:"Block Class",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)("h2",{id:"reference-a-cms-block"},"Reference a CMS block"),(0,m.mdx)("p",null,"A CMS block is injected into the layout by using the ",(0,m.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Cms/Block/Block.php"},"Magento/Cms/Block/Block")," class with the ",(0,m.mdx)("inlineCode",{parentName:"p"},"block_id")," argument. Any ",(0,m.mdx)("inlineCode",{parentName:"p"},"block")," or ",(0,m.mdx)("inlineCode",{parentName:"p"},"container")," can be used as a reference."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceContainer name="content.bottom">\n    <block class="Magento\\Cms\\Block\\Block" name="block_identifier">\n        <arguments>\n            \x3c!-- Here is the CMS Block id --\x3e\n            <argument name="block_id" xsi:type="string">my_cms_block_identifier</argument>\n        </arguments>\n    </block>\n</referenceContainer>\n')),(0,m.mdx)("p",null,"As a result, the CMS block added to the bottom of the page."),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"362px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.8125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/5ce5b1aea359455c87909be9d8d72f47/cb523/cms-block-reference.webp 320w","/commerce-frontend-core/static/5ce5b1aea359455c87909be9d8d72f47/9ddd4/cms-block-reference.webp 362w"],sizes:"(max-width: 362px) 100vw, 362px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/5ce5b1aea359455c87909be9d8d72f47/72799/cms-block-reference.png 320w","/commerce-frontend-core/static/5ce5b1aea359455c87909be9d8d72f47/10600/cms-block-reference.png 362w"],sizes:"(max-width: 362px) 100vw, 362px",type:"image/png"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/5ce5b1aea359455c87909be9d8d72f47/10600/cms-block-reference.png",alt:"CMS Block",title:"CMS Block",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)("h2",{id:"making-the-block-visibility-dynamic"},"Making the block visibility dynamic"),(0,m.mdx)("p",null,"Any block can be configured to show or not based on a ",(0,m.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Config/Model/Config/Source/Yesno.php"},"Magento/Config/Model/Config/Source/Yesno")," system configuration field, using the ",(0,m.mdx)("inlineCode",{parentName:"p"},"ifconfig")," argument. For the value, use the XPath to the needed field."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<block class="Namespace\\Module\\Block\\Type" name="block.example" ifconfig="my/yesno/field">\n    ...\n</block>\n')),(0,m.mdx)("p",null,"The visibility can also be adjusted using the ",(0,m.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/php/best-practices/"},"ACL Resource"),". Although it is used mostly in the admin area, the same approach works for the storefront as well."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<block class="Namespace\\Module\\Block\\Type" name="block.example" aclResource="Vendor_ModuleName::acl_name">\n    \x3c!-- ... --\x3e\n</block>\n')),(0,m.mdx)("p",null,"In the admin area, this is implemented for ",(0,m.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Backend/view/adminhtml/layout/default.xml"},"global search")," and for ",(0,m.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento2/blob/2.4/app/code/Magento/AdminNotification/view/adminhtml/layout/default.xml"},"admin notification list"),"."),(0,m.mdx)("h2",{id:"set-the-template-used-by-a-bloc"},"Set the template used by a bloc"),(0,m.mdx)("p",null,"There are three ways to set the template for a block:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"using the ",(0,m.mdx)("inlineCode",{parentName:"li"},"template")," attribute"),(0,m.mdx)("li",{parentName:"ul"},"using the ",(0,m.mdx)("inlineCode",{parentName:"li"},"<argument>")," instruction"),(0,m.mdx)("li",{parentName:"ul"},"using the ",(0,m.mdx)("inlineCode",{parentName:"li"},'<action method="setTemplate">')," instruction")),(0,m.mdx)("p",null,"Each approach is demonstrated in the following examples:"),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example 1:")," using the ",(0,m.mdx)("inlineCode",{parentName:"p"},"template")," attribute"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},' <referenceBlock name="page.main.title" template="%Namespace_Module::new_template.phtml%"/>\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example 2:")," using the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<argument>")," instruction"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},' <referenceBlock name="page.main.title">\n   <arguments>\n     <argument name="template" xsi:type="string">%Namespace_Module::new_template.phtml%</argument>\n   </arguments>\n </referenceBlock>\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example 3:")," using the ",(0,m.mdx)("inlineCode",{parentName:"p"},'<action method="setTemplate">')," instruction"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},' <referenceBlock name="page.main.title">\n   <action method="setTemplate">\n     <argument name="template" xsi:type="string">%Namespace_Module::new_template.phtml%</argument>\n   </action>\n </referenceBlock>\n')),(0,m.mdx)("p",null,"In the above examples, the template is specified according to the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"Namespace_Module:")," defines the module the template belongs to. For example, ",(0,m.mdx)("inlineCode",{parentName:"li"},"Magento_Catalog"),"."),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"new_template.phtml"),": the path to the template relative to the ",(0,m.mdx)("inlineCode",{parentName:"li"},"templates")," directory. For example: ",(0,m.mdx)("inlineCode",{parentName:"li"},"<module_dir>/view/<area>/templates")," or ",(0,m.mdx)("inlineCode",{parentName:"li"},"<theme_dir>/<Namespace_Module>/templates"),".")),(0,m.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"The highest priority template is one with setTemplate action ",(0,m.mdx)("inlineCode",{parentName:"p"},'<action method="setTemplate">'),". Second priority has the attribute specified as ",(0,m.mdx)("inlineCode",{parentName:"p"},'<referenceBlock name="..." template="..."/>'),", and the lowest priority has the template using ",(0,m.mdx)("inlineCode",{parentName:"p"},"<argument>"),"."),(0,m.mdx)("p",null,"It means, that if for a certain block, a template is set as an attribute, it will override the value you specify in ",(0,m.mdx)("inlineCode",{parentName:"p"},"<argument>")," for the same block. In the case where we have ",(0,m.mdx)("inlineCode",{parentName:"p"},'<action method="setTemplate">')," construction - it will override the values that you specified in the template attribute ",(0,m.mdx)("inlineCode",{parentName:"p"},'<referenceBlock name="..." template="..."/>')," and the value you specified using ",(0,m.mdx)("inlineCode",{parentName:"p"},"<argument>"),"."),(0,m.mdx)("h2",{id:"modify-block-arguments"},"Modify block arguments"),(0,m.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"Adobe Commerce and Magento Open Source 2.3.2 added a ",(0,m.mdx)("inlineCode",{parentName:"p"},"shared")," attribute. Now, instances of the view models are shared by default. If a view model is required to be a new instance each time, you must add the attribute ",(0,m.mdx)("inlineCode",{parentName:"p"},'shared="false"')," on the argument node in the layout xml file."),(0,m.mdx)("p",null,"To modify block arguments, use the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<referenceBlock>")," instruction."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example:")," change the value of the existing block argument and add a new argument."),(0,m.mdx)("p",null,"Initial block declaration:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<block class="Namespace_Module_Block_Type" name="block.example">\n  <arguments>\n    <argument name="label" xsi:type="string">Block Label</argument>\n  </arguments>\n</block>\n')),(0,m.mdx)("p",null,"Extending layout:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceBlock name="block.example">\n  <arguments>\n    \x3c!-- Modified block argument --\x3e\n    <argument name="label" xsi:type="string">New Block Label</argument>\n    \x3c!-- Newly added block argument --\x3e\n    <argument name="custom_label" xsi:type="string">Custom Block Label</argument>\n  </arguments>\n</referenceBlock>\n')),(0,m.mdx)("h2",{id:"use-block-object-methods-to-set-block-properties"},"Use block object methods to set block properties"),(0,m.mdx)("p",null,"There are two ways to access block object methods:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"using the ",(0,m.mdx)("inlineCode",{parentName:"li"},"<argument>")," instruction for ",(0,m.mdx)("inlineCode",{parentName:"li"},"<block>")," or ",(0,m.mdx)("inlineCode",{parentName:"li"},"<referenceBlock>")),(0,m.mdx)("li",{parentName:"ul"},"using the ",(0,m.mdx)("inlineCode",{parentName:"li"},"<action>")," instruction. This way is not recommended, but can be used for calling those methods, which are not refactored yet to be accessed through ",(0,m.mdx)("inlineCode",{parentName:"li"},"<argument>"),".")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example 1:")," Set a CSS class and add an attribute for the product page using ",(0,m.mdx)("inlineCode",{parentName:"p"},"<argument>"),"."),(0,m.mdx)("p",null,"Extending layout:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceBlock name="page.main.title">\n  <arguments>\n    <argument name="css_class" xsi:type="string">product</argument>\n    <argument name="add_base_attribute" xsi:type="string">itemprop="name"</argument>\n  </arguments>\n</referenceBlock>\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example 2:")," Set a page title using ",(0,m.mdx)("inlineCode",{parentName:"p"},"<action>"),"."),(0,m.mdx)(c,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"Do not use ",(0,m.mdx)("inlineCode",{parentName:"p"},"<action>")," if the method implementation allows calling it using ",(0,m.mdx)("inlineCode",{parentName:"p"},"<argument>")," for ",(0,m.mdx)("inlineCode",{parentName:"p"},"<block>")," or ",(0,m.mdx)("inlineCode",{parentName:"p"},"<referenceBlock>"),"."),(0,m.mdx)("p",null,"Extending layout:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<referenceBlock name="page.main.title">\n  <action method="setPageTitle">\n    <argument translate="true" name="title" xsi:type="string">Catalog Advanced Search</argument>\n  </action>\n</referenceBlock>\n')),(0,m.mdx)("h2",{id:"rearrange-elements"},"Rearrange elements"),(0,m.mdx)("p",null,"In layout files you can change the elements order on a page. This can be done using one of the following:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("a",{parentName:"li",href:"xml-instructions.md#move"},(0,m.mdx)("inlineCode",{parentName:"a"},"<move>")," instruction"),": allows changing elements' order and parent."),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("a",{parentName:"li",href:"xml-instructions.md#before-and-after-attributes"},(0,m.mdx)("inlineCode",{parentName:"a"},"before")," and ",(0,m.mdx)("inlineCode",{parentName:"a"},"after")," attributes of ",(0,m.mdx)("inlineCode",{parentName:"a"},"<block>")),": sets the order of elements within a parent.")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Example of ",(0,m.mdx)("inlineCode",{parentName:"strong"},"<move>")," usage:"),"\nput the stock availability and SKU blocks next to the product price on a product page."),(0,m.mdx)("p",null,"In the Blank theme these elements are located as follows:"),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1201px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"30.9375%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/45878c928c0071b0c70fe60e810d9505/cb523/layout_image1.webp 320w","/commerce-frontend-core/static/45878c928c0071b0c70fe60e810d9505/797b9/layout_image1.webp 640w","/commerce-frontend-core/static/45878c928c0071b0c70fe60e810d9505/2605f/layout_image1.webp 1201w"],sizes:"(max-width: 1201px) 100vw, 1201px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/45878c928c0071b0c70fe60e810d9505/72799/layout_image1.png 320w","/commerce-frontend-core/static/45878c928c0071b0c70fe60e810d9505/6af66/layout_image1.png 640w","/commerce-frontend-core/static/45878c928c0071b0c70fe60e810d9505/690c6/layout_image1.png 1201w"],sizes:"(max-width: 1201px) 100vw, 1201px",type:"image/png"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/45878c928c0071b0c70fe60e810d9505/690c6/layout_image1.png",alt:"layout image1",title:"layout image1",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)("p",null,"Place the stock availability and SKU blocks after product price block on a product page, and move the review block out of the product-info-price container.\nTo do this, add the extending ",(0,m.mdx)("inlineCode",{parentName:"p"},"catalog_product_view.xml")," in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"app/design/frontend/ExampleCorp/orange/Magento_Catalog/layout/")," directory:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<page layout="1column" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">\n  <body>\n    <move element="product.info.stock.sku" destination="product.info.price" after="product.price.final"/>\n    <move element="product.info.review" destination="product.info.main" before="product.info.price"/>\n  </body>\n</page>\n')),(0,m.mdx)("p",null,"This would make the product page look like following:"),(0,m.mdx)("p",null,(0,m.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1204px"}},"\n      ",(0,m.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"38.125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,m.mdx)("picture",{parentName:"span"},"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/706a76ed22715a0c974d7208b3f84e66/cb523/layout_image2.webp 320w","/commerce-frontend-core/static/706a76ed22715a0c974d7208b3f84e66/797b9/layout_image2.webp 640w","/commerce-frontend-core/static/706a76ed22715a0c974d7208b3f84e66/9153e/layout_image2.webp 1204w"],sizes:"(max-width: 1204px) 100vw, 1204px",type:"image/webp"}),"\n          ",(0,m.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/706a76ed22715a0c974d7208b3f84e66/72799/layout_image2.png 320w","/commerce-frontend-core/static/706a76ed22715a0c974d7208b3f84e66/6af66/layout_image2.png 640w","/commerce-frontend-core/static/706a76ed22715a0c974d7208b3f84e66/35252/layout_image2.png 1204w"],sizes:"(max-width: 1204px) 100vw, 1204px",type:"image/png"}),"\n          ",(0,m.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/706a76ed22715a0c974d7208b3f84e66/35252/layout_image2.png",alt:"layout image2",title:"layout image2",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,m.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"To learn how to locate the layout file you need to customize, see ",(0,m.mdx)("a",{parentName:"p",href:"../themes/debug.md"},"Locate templates, layouts, and styles"),"."),(0,m.mdx)("h2",{id:"add-functionality-to-existing-elements"},"Add functionality to existing elements"),(0,m.mdx)("p",null,"Let us say that we want to add functionality to a core template with custom logic using a ViewModel in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"cart/item/default.phtml")," template found in ",(0,m.mdx)("inlineCode",{parentName:"p"},"Magento/Checkout/view/frontend/layout/checkout_cart_item_renderers.xml"),":"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">\n<body>\n  <referenceBlock name="checkout.cart.item.renderers.default">\n    <arguments>\n      <argument name="view_model" xsi:type="object">Vendor\\CustomModule\\ViewModel\\Class</argument>\n    </arguments>\n  </referenceBlock>\n</body>\n')),(0,m.mdx)("p",null,"You would also have to implement the right interface in your viewModel class (i.e. ",(0,m.mdx)("inlineCode",{parentName:"p"},"ArgumentInterface"),"):"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-php"},"namespace Vendor\\CustomModule\\ViewModel;\n\nclass Class implements \\Magento\\Framework\\View\\Element\\Block\\ArgumentInterface\n{\n    public function __construct()\n    {\n\n    }\n\n    public function canShowAdditionalData()\n    {\n        return true;\n    }\n}\n")),(0,m.mdx)("p",null,"Then, in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"cart/item/default.phtml")," file, use the viewModel:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-php"},"/** @var \\Vendor\\CustomModule\\ViewModel\\Class $viewModel */\n$viewModel = $block->getViewModel();\n\n$viewModel->canShowAdditionalData();\n")),(0,m.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"The name provided to the ",(0,m.mdx)("inlineCode",{parentName:"p"},"$block->getData()")," function should match the name of the view model provided in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"xml")," file."),(0,m.mdx)("h2",{id:"modify-layout-with-plugins-interceptors"},"Modify layout with plugins (interceptors)"),(0,m.mdx)("p",null,"Plugins can be also useful, when we need to make some layout updates.\nHere is an example of how a css class can be added to ",(0,m.mdx)("inlineCode",{parentName:"p"},"<body>")," tag on product view page."),(0,m.mdx)("blockquote",null,(0,m.mdx)("p",{parentName:"blockquote"},(0,m.mdx)("inlineCode",{parentName:"p"},"etc/frontend/di.xml"))),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n        xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">\n    <type name="Magento\\Catalog\\Helper\\Product\\View">\n        <plugin name="add_custom_body_class_to_product_page"\n                type="ExampleCorp\\Learning\\Plugin\\AddBodyClassToProductPagePlugin"/>\n    </type>\n</config>\n')),(0,m.mdx)("blockquote",null,(0,m.mdx)("p",{parentName:"blockquote"},(0,m.mdx)("inlineCode",{parentName:"p"},"ExampleCorp/Learning/Plugin/AddBodyClassToProductPagePlugin.php"))),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-php"},"<?php\n\nnamespace ExampleCorp\\Learning\\Plugin;\n\nuse Magento\\Catalog\\Helper\\Product\\View as ProductViewHelper;\nuse Magento\\Framework\\View\\Result\\Page;\n\n/**\n * Class AddBodyClassToProductPagePlugin\n */\nclass AddBodyClassToProductPagePlugin\n{\n    /**\n     * Adding a custom class to body\n     *\n     * @param ProductViewHelper $subject\n     * @param Page $resultPage\n     * @param $product\n     * @param $params\n     *\n     * @return array\n     */\n    public function beforeInitProductLayout(\n        ProductViewHelper $subject,\n        Page $resultPage,\n        $product,\n        $params\n    ): array {\n        $pageConfig = $resultPage->getConfig();\n\n        if (/*add your logic here*/) {\n            $pageConfig->addBodyClass('my-new-body-class');\n        }\n\n        return [$resultPage, $product, $params];\n    }\n}\n")),(0,m.mdx)("p",null,"As result, the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<body>")," tag has a new ",(0,m.mdx)("inlineCode",{parentName:"p"},"my-new-body-class")," class on all product pages."),(0,m.mdx)("p",null,"See ",(0,m.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/php/development/components/plugins/"},"plugins"),"."),(0,m.mdx)("h2",{id:"manage-the-my-account-dashboard-navigation-links"},"Manage the 'My Account' dashboard navigation links"),(0,m.mdx)("p",null,"You can remove navigation links from the 'My Account' dashboard on the storefront by setting the ",(0,m.mdx)("inlineCode",{parentName:"p"},"remove")," attribute."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'\x3c!-- ################################## --\x3e\n\x3c!-- Version: Magento Open Source --\x3e\n\x3c!-- ################################## --\x3e\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Customer/layout/customer_account.xml --\x3e\n\x3c!-- "My Account" link --\x3e\n<referenceBlock name="customer-account-navigation-account-link" remove="true"/>\n\n\x3c!-- "Address Book" link --\x3e\n<referenceBlock name="customer-account-navigation-address-link" remove="true"/>\n\n\x3c!-- "Account Information" link --\x3e\n<referenceBlock name="customer-account-navigation-account-edit-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Downloadable/layout/customer_account.xml --\x3e\n\x3c!-- "My Downloadable Products" link --\x3e\n<referenceBlock name="customer-account-navigation-downloadable-products-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Newsletter/layout/customer_account.xml --\x3e\n\x3c!-- "Newsletter Subscriptions" link --\x3e\n<referenceBlock name="customer-account-navigation-newsletter-subscriptions-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Paypal/layout/customer_account.xml --\x3e\n\x3c!-- "Billing Agreements" link --\x3e\n<referenceBlock name="customer-account-navigation-billing-agreements-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Review/layout/customer_account.xml --\x3e\n\x3c!-- "My Product Reviews" link --\x3e\n<referenceBlock name="customer-account-navigation-product-reviews-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Sales/layout/customer_account.xml --\x3e\n\x3c!-- "My Orders" link --\x3e\n<referenceBlock name="customer-account-navigation-orders-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Vault/layout/customer_account.xml --\x3e\n\x3c!-- "Stored Payment Methods" link --\x3e\n<referenceBlock name="customer-account-navigation-my-credit-cards-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Wishlist/layout/customer_account.xml --\x3e\n\x3c!-- "My Wish List" link --\x3e\n<referenceBlock name="customer-account-navigation-wish-list-link" remove="true"/>\n\n\x3c!-- ################################### --\x3e\n\x3c!-- Version: Adobe Commerce --\x3e\n\x3c!-- ################################### --\x3e\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_AdvancedCheckout/layout/customer_account.xml --\x3e\n\x3c!-- "Order by SKU" link --\x3e\n<referenceBlock name="customer-account-navigation-checkout-sku-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_CustomerBalance/layout/customer_account.xml --\x3e\n\x3c!-- "Store credit" link --\x3e\n<referenceBlock name="customer-account-navigation-customer-balance-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_GiftCardAccount/layout/customer_account.xml --\x3e\n\x3c!-- "Gift card" link --\x3e\n<referenceBlock name="customer-account-navigation-gift-card-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_GiftRegistry/layout/customer_account.xml --\x3e\n\x3c!-- "Gift Registry" link --\x3e\n<referenceBlock name="customer-account-navigation-giftregistry-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Invitation/layout/customer_account.xml --\x3e\n\x3c!-- "My Invitations" link --\x3e\n<referenceBlock name="customer-account-navigation-magento-invitation-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Reward/layout/customer_account.xml --\x3e\n\x3c!-- "Reward Points" link --\x3e\n<referenceBlock name="customer-account-navigation-reward-link" remove="true"/>\n\n\x3c!-- File:  app/design/frontend/<Vendor>/<theme>/Magento_Rma/layout/customer_account.xml --\x3e\n\x3c!-- "My Returns" link --\x3e\n<referenceBlock name="customer-account-navigation-return-history-link" remove="true"/>\n')),(0,m.mdx)("h2",{id:"create-selectable-layouts"},"Create selectable layouts"),(0,m.mdx)("p",null,"As of Adobe Commerce and Magento Open Source 2.3.4, merchants can select layout updates to be applied to specific Category/Product/CMS Page pages on the frontend. These layout\nupdates are made by creating layout XML files following specific naming conventions."),(0,m.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"Selectable layout updates can only be loaded from the global store theme and work only in the single website with single theme configurations.\nIf a specific entity like ",(0,m.mdx)("inlineCode",{parentName:"p"},"cms-page/product/category")," has an individual theme applied in the design configuration tab, the selected theme will have priority over the selected layout update."),(0,m.mdx)("p",null,"For Categories:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"catalog_category_view_selectable_<Category ID>_<Layout Update Name>.xml"))),(0,m.mdx)("p",null,"where:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("em",{parentName:"li"},"Category ID")," is desired category ID"),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("em",{parentName:"li"},"Layout Update Name")," is what is shown as the option for ",(0,m.mdx)("strong",{parentName:"li"},"Custom layout update")," field of ",(0,m.mdx)("strong",{parentName:"li"},"Design")," section on ",(0,m.mdx)("em",{parentName:"li"},"Category Edit")," page.")),(0,m.mdx)("p",null,"For Products:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"catalog_product_view_selectable_<Product SKU>_<Layout Update Name>.xml"))),(0,m.mdx)("p",null,"where:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("em",{parentName:"li"},"Product SKU")," is the desired product's SKU encoded as a URI.\n",(0,m.mdx)("em",{parentName:"li"},"example"),': "My Product SKU" -> "My%20Product%20SKU"'),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("em",{parentName:"li"},"Layout Update Name")," is what is shown as the option for ",(0,m.mdx)("strong",{parentName:"li"},"Custom layout update")," field of ",(0,m.mdx)("strong",{parentName:"li"},"Design")," section on ",(0,m.mdx)("em",{parentName:"li"},"Product Edit")," page")),(0,m.mdx)("p",null,"For CMS Pages:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"cms_page_view_selectable_<CMS Page Identifier>_<Layout Update Name>.xml"))),(0,m.mdx)("p",null,"where:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("em",{parentName:"li"},"CMS Page Identifier")," is the desired page's ",(0,m.mdx)("em",{parentName:"li"},"URL Key"),' with "/" symbols replaced with "_".'),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("em",{parentName:"li"},"Layout Update Name")," is what is shown as the option for the  ",(0,m.mdx)("strong",{parentName:"li"},"Custom layout update")," field of the ",(0,m.mdx)("strong",{parentName:"li"},"Design"),"\nsection on the ",(0,m.mdx)("em",{parentName:"li"},"CMS Page Edit"),' page. For example, a layout update for an "About Us" page will be "cms_page_view_selectable_about-us_AboutUs.xml".')),(0,m.mdx)("p",null,"These files must be placed in the appropriate folders for layout XML files. They will be available as ",(0,m.mdx)("strong",{parentName:"p"},"Custom Layout Update")," options for Merchants after flushing the cache."))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guide-layouts-xml-manage-md-059868656b42eedd9a7c.js.map
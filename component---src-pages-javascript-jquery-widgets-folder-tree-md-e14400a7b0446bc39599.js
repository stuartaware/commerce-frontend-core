"use strict";(self.webpackChunkcommerce_frontend_core=self.webpackChunkcommerce_frontend_core||[]).push([[6020],{47738:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return i},default:function(){return s}});var r=a(87462),n=a(63366),o=(a(15007),a(64983)),d=a(91515),m=["components"],i={},l={_frontmatter:i},p=d.Z;function s(e){var t=e.components,a=(0,n.Z)(e,m);return(0,o.mdx)(p,(0,r.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"foldertree-widget"},"FolderTree widget"),(0,o.mdx)("p",null,"The FolderTree ",(0,o.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/widget/"},"widget")," allows creating a dynamic hierarchical tree structure with folders."),(0,o.mdx)("p",null,"The main purpose of this widget is to represent a folder structure from the server, database or another resource and to allow the users to browse that structure."),(0,o.mdx)("p",null,"The dynamic hierarchical allows us to easily update the folders via ",(0,o.mdx)("a",{parentName:"p",href:"#url"},"Ajax URL")," and show different levels of folders, with subfolders that can be collapsed and expanded."),(0,o.mdx)("p",null,"For example: in the Wysiwyg editor, the FolderTree widget is used to represents the structure of media folders on the server. After clicking on one of the folders, an admin is able to see media files within the folder."),(0,o.mdx)("p",null,(0,o.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"840px"}},"\n      ",(0,o.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"48.75000000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,o.mdx)("picture",{parentName:"span"},"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/1d9b35325c47a1b754726fb9b22b68cf/cb523/folder-tree-widget-media-example.webp 320w","/commerce-frontend-core/static/1d9b35325c47a1b754726fb9b22b68cf/797b9/folder-tree-widget-media-example.webp 640w","/commerce-frontend-core/static/1d9b35325c47a1b754726fb9b22b68cf/1593c/folder-tree-widget-media-example.webp 840w"],sizes:"(max-width: 840px) 100vw, 840px",type:"image/webp"}),"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/1d9b35325c47a1b754726fb9b22b68cf/72799/folder-tree-widget-media-example.png 320w","/commerce-frontend-core/static/1d9b35325c47a1b754726fb9b22b68cf/6af66/folder-tree-widget-media-example.png 640w","/commerce-frontend-core/static/1d9b35325c47a1b754726fb9b22b68cf/1e088/folder-tree-widget-media-example.png 840w"],sizes:"(max-width: 840px) 100vw, 840px",type:"image/png"}),"\n          ",(0,o.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/1d9b35325c47a1b754726fb9b22b68cf/1e088/folder-tree-widget-media-example.png",alt:"Example of Media Folder Tree",title:"Example of Media Folder Tree",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,o.mdx)("p",null,"The FolderTree widget can be used only in the ",(0,o.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/adminhtml"},"adminhtml")," area."),(0,o.mdx)("p",null,"The FolderTree widget source is ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Cms/view/adminhtml/web/js/folder-tree.js"},(0,o.mdx)("inlineCode",{parentName:"a"},"<Magento_Cms_module_dir>/view/adminhtml/web/js/folder-tree.js")),"."),(0,o.mdx)("h2",{id:"initialize"},"Initialize"),(0,o.mdx)("p",null,"For information about how to initialize a widget in a JS component or ",(0,o.mdx)("inlineCode",{parentName:"p"},".phtml")," template, see the ",(0,o.mdx)("a",{parentName:"p",href:"../init.md"},"Initialize JavaScript")," topic."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-javascript"},"$(\"#folder-tree\").folderTree({\n    rootName: 'Root',\n    url: 'some/url',\n    currentPath: ['root']\n});\n")),(0,o.mdx)("p",null,"Where:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"#folder-tree")," is the selector of the element which will display FolderTree.")),(0,o.mdx)("p",null,"The following example shows a ",(0,o.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/phtml"},"PHTML")," file using the script:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-html"},"<script>\n    require([\n        'jquery',\n        'Magento_Cms/js/folder-tree'\n    ], function ($) {\n        'use strict';\n\n        $(\"#folder-tree\").folderTree({\n            rootName: 'Root',\n            url: 'some/url',\n            currentPath: ['root']\n        });\n    });\n<\/script>\n")),(0,o.mdx)("h2",{id:"options"},"Options"),(0,o.mdx)("h3",{id:"currentpath"},(0,o.mdx)("inlineCode",{parentName:"h3"},"currentPath")),(0,o.mdx)("p",null,"This option pre-opens the specified folder path. It is an array of folders IDs which represents the path to the current opened folder."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Type"),": Array"),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,o.mdx)("inlineCode",{parentName:"p"},"['root']")),(0,o.mdx)("h3",{id:"root"},(0,o.mdx)("inlineCode",{parentName:"h3"},"root")),(0,o.mdx)("p",null,"The id for the root folder ",(0,o.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/html"},"HTML")," element."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,o.mdx)("inlineCode",{parentName:"p"},"'root'")),(0,o.mdx)("h3",{id:"rootname"},(0,o.mdx)("inlineCode",{parentName:"h3"},"rootName")),(0,o.mdx)("p",null,"The name of the root folder."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,o.mdx)("inlineCode",{parentName:"p"},"'Root'")),(0,o.mdx)("h3",{id:"tree"},(0,o.mdx)("inlineCode",{parentName:"h3"},"tree")),(0,o.mdx)("p",null,"The configuration for ",(0,o.mdx)("a",{parentName:"p",href:"https://www.jstree.com"},"jstree")," widget."),(0,o.mdx)("p",null,"The FolderTree widget uses the ",(0,o.mdx)("a",{parentName:"p",href:"https://www.jstree.com"},"jstree")," widget to build a hierarchical tree with folders."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Default value"),":"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},"{\n    'plugins': ['themes', 'json_data', 'ui', 'hotkeys'],\n    'themes': {\n        'theme': 'default',\n        'dots': false,\n        'icons': true\n    }\n}\n")),(0,o.mdx)("h3",{id:"url"},(0,o.mdx)("inlineCode",{parentName:"h3"},"url")),(0,o.mdx)("p",null,"The endpoint URL for getting the folders JSON data."),(0,o.mdx)("p",null,"The example of the JSON response:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "text": "Folder #1",\n    "id": "1",\n    "path": "some/path/",\n    "cls": "folder folder-1"\n  },\n  {\n    "text": "Folder #2",\n    "id": "2",\n    "path": "some/path/2",\n    "cls": "folder folder-2"\n  }\n]\n')),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,o.mdx)("inlineCode",{parentName:"p"},"undefined")),(0,o.mdx)("h2",{id:"code-sample"},"Code sample"),(0,o.mdx)("p",null,"The following example shows the initialization of FolderTree widget."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-html"},'<div data-role="tree" data-mage-init=\'{\n    "folderTree": {\n        "rootName": "Root",\n        "url": "/some/path/jsontree",\n        "currentPath": ["root"]\n    }\n}\'>\n')),(0,o.mdx)("h3",{id:"result"},"Result"),(0,o.mdx)("p",null,(0,o.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"229px"}},"\n      ",(0,o.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"74.235807860262%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,o.mdx)("picture",{parentName:"span"},"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/f8d349ea2f029705aac6a1cfc86a76e5/54979/folder-tree-widget.webp 229w"],sizes:"(max-width: 229px) 100vw, 229px",type:"image/webp"}),"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/f8d349ea2f029705aac6a1cfc86a76e5/d0281/folder-tree-widget.png 229w"],sizes:"(max-width: 229px) 100vw, 229px",type:"image/png"}),"\n          ",(0,o.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/f8d349ea2f029705aac6a1cfc86a76e5/d0281/folder-tree-widget.png",alt:"FolderTree widget example",title:"FolderTree widget example",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-javascript-jquery-widgets-folder-tree-md-e14400a7b0446bc39599.js.map
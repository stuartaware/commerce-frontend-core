"use strict";(self.webpackChunkcommerce_frontend_core=self.webpackChunkcommerce_frontend_core||[]).push([[2899],{50367:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return d},default:function(){return o}});var a=t(87462),i=t(63366),l=(t(15007),t(64983)),r=t(91515),m=["components"],d={},p={_frontmatter:d},s=r.Z;function o(e){var n=e.components,t=(0,i.Z)(e,m);return(0,l.mdx)(s,(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"quicksearch-widget"},"QuickSearch widget"),(0,l.mdx)("p",null,"The quickSearch ",(0,l.mdx)("a",{parentName:"p",href:"https://glossary.magento.com/widget"},"widget")," is an autocomplete widget that populates a list of suggested search terms for a given field."),(0,l.mdx)("p",null,"The suggest widget source is ",(0,l.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Search/view/frontend/web/js/form-mini.js"},(0,l.mdx)("inlineCode",{parentName:"a"},"<Magento_Search_module_dir>/view/frontend/web/js/form-mini.js")),"."),(0,l.mdx)("h2",{id:"initialize"},"Initialize"),(0,l.mdx)("p",null,"For information about how to initialize a widget in a JS component or ",(0,l.mdx)("inlineCode",{parentName:"p"},".phtml")," template, see the ",(0,l.mdx)("a",{parentName:"p",href:"../init.md"},"Initialize JavaScript")," topic."),(0,l.mdx)("h2",{id:"options"},"Options"),(0,l.mdx)("h3",{id:"autocomplete"},(0,l.mdx)("inlineCode",{parentName:"h3"},"autocomplete")),(0,l.mdx)("p",null,"Attaches the ",(0,l.mdx)("inlineCode",{parentName:"p"},"autocomplete")," attribute to the search field."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"off")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Accepted values"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"off"),", ",(0,l.mdx)("inlineCode",{parentName:"p"},"on")),(0,l.mdx)("h3",{id:"destinationselector"},(0,l.mdx)("inlineCode",{parentName:"h3"},"destinationSelector")),(0,l.mdx)("p",null,"The element's selector where the results will be added."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"null")),(0,l.mdx)("h3",{id:"isexpandable"},(0,l.mdx)("inlineCode",{parentName:"h3"},"isExpandable")),(0,l.mdx)("p",null,"The isExpandable option is used to show and hide search input field on devices with max width 768px."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": Boolean"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"null")),(0,l.mdx)("h3",{id:"formselector"},(0,l.mdx)("inlineCode",{parentName:"h3"},"formSelector")),(0,l.mdx)("p",null,"The form selector containing the search input field."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": No form by default."),(0,l.mdx)("h3",{id:"minsearchlength"},(0,l.mdx)("inlineCode",{parentName:"h3"},"minSearchLength")),(0,l.mdx)("p",null,"Minimum number of characters required before the auto suggest triggers."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": Integer"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"2")),(0,l.mdx)("h3",{id:"responsefieldelements"},(0,l.mdx)("inlineCode",{parentName:"h3"},"responseFieldElements")),(0,l.mdx)("p",null,"Selector for the response elements."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default Value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"ul li")),(0,l.mdx)("h3",{id:"searchlabel"},(0,l.mdx)("inlineCode",{parentName:"h3"},"searchLabel")),(0,l.mdx)("p",null,"Selector of a search input label."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"[data-role=minisearch-label]")),(0,l.mdx)("h3",{id:"selectclass"},(0,l.mdx)("inlineCode",{parentName:"h3"},"selectClass")),(0,l.mdx)("p",null,"Class assigned to the selected suggested term."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"selected")),(0,l.mdx)("h3",{id:"submitbtn"},(0,l.mdx)("inlineCode",{parentName:"h3"},"submitBtn")),(0,l.mdx)("p",null,"Disable the submit button."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},'button[type="submit"]')),(0,l.mdx)("h3",{id:"suggestiondelay"},(0,l.mdx)("inlineCode",{parentName:"h3"},"suggestionDelay")),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"suggestionDelay")," option prevents overloading the server with requests by waiting until the user has stopped typing for the specified period of time."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": Integer"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"300")),(0,l.mdx)("h3",{id:"template"},(0,l.mdx)("inlineCode",{parentName:"h3"},"template")),(0,l.mdx)("p",null,"Template responsible for rendering returned data (suggested terms)."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),":"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-html"},'<li class="<%- data.row_class %>" id="qs-option-<%- data.index %>" role="option">\n    <span class="qs-option-name">\n       <%- data.title %>\n    </span>\n    <span aria-hidden="true" class="amount">\n       <%- data.num_results %>\n    </span>\n</li>\n')),(0,l.mdx)("h3",{id:"url"},(0,l.mdx)("inlineCode",{parentName:"h3"},"url")),(0,l.mdx)("p",null,"The endpoint URL for processing the search query."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Type"),": String"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Default value"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"null")),(0,l.mdx)("h2",{id:"code-sample"},"Code sample"),(0,l.mdx)("p",null,"This example shows how to initialize the quickSearch widget and pass options during the initialization."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-html"},'<form class="" id="new_search_form" action="/catalogsearch/result/" method="get">\n   <div class="field search">\n      <div class="control">\n          <input id="new-search"\n              data-mage-init=\'{"quickSearch":{\n                     "formSelector":"#new_search_form",\n                     "minSearchLength": 1,\n                     "url":"/search/ajax/suggest",\n                     "destinationSelector":"#search_results"}\n                    }\'\n              type="text"\n              name="q"\n              placeholder="<?= $block->escapeHtmlAttr(__(\'Search entire store here...\')) ?>"\n              class="input-text"/>\n         <div id="search_results" class="search-autocomplete"></div>\n      </div>\n  </div>\n  <div class="actions">\n    <button type="submit"\n            title="<?= $block->escapeHtml(__(\'Search\')) ?>"\n            class="action search"\n            aria-label="Search">\n      <span><?= $block->escapeHtml(__(\'Search\')) ?></span>\n    </button>\n  </div>\n</form>\n')),(0,l.mdx)("h3",{id:"result"},"Result"),(0,l.mdx)("p",null,"The result is an input with autocomplete results, where the results will be returned by the ",(0,l.mdx)("inlineCode",{parentName:"p"},"url")," option that was provided on initialization, as shown here:"),(0,l.mdx)("p",null,(0,l.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"414px"}},"\n      ",(0,l.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"41.875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,l.mdx)("picture",{parentName:"span"},"\n          ",(0,l.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/f1da103587946f4d2443941669fe7ada/cb523/quick-search-result.webp 320w","/commerce-frontend-core/static/f1da103587946f4d2443941669fe7ada/ba143/quick-search-result.webp 414w"],sizes:"(max-width: 414px) 100vw, 414px",type:"image/webp"}),"\n          ",(0,l.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/f1da103587946f4d2443941669fe7ada/72799/quick-search-result.png 320w","/commerce-frontend-core/static/f1da103587946f4d2443941669fe7ada/b910a/quick-search-result.png 414w"],sizes:"(max-width: 414px) 100vw, 414px",type:"image/png"}),"\n          ",(0,l.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/f1da103587946f4d2443941669fe7ada/b910a/quick-search-result.png",alt:"Quick Search Widget",title:"Quick Search Widget",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))}o.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-javascript-jquery-widgets-quick-search-md-e4d03d2f52099d72a2c2.js.map